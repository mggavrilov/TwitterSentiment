# TwitterSentiment
 
Първоначалният замисъл на проекта беше да се снабдя с корпус от отзиви за различни игри, след което да обуча модел с него и да правя sentiment анализ на туитове, за да предскажа какви са отзивите към някоя нова игра. Тази цел беше постигната, но в хода на разработката на проекта, го разширих и сега може да оценява туитове (и не само) за sentiment на всякаква тематика, не само отзиви за игри.

Проектът е разработен на Java 10. Състои се от следните класове:
DatasetParser - предназначен да обработи началния корпус и да го подготви за работа
MySentimentAnalyzer - прост алгоритъм за анализиране на sentiment, написан от мен. Обучава се като поставя оценка на всяка една дума от ревюто, която не е стоп дума, равна на оценката от самото ревю. Ако думата се среща в 2 или повече ревюта, оценката ѝ става средно аритметично от оценките на тези ревюта. При класификация на нови примери, се взимат оценките на всички думи от ревюто, които са известни на модела и не са стоп думи и се дава средната оценка като крайна за ревюто. Класът съдържа също няколко помощни метода като например извеждане на най-позитивните и най-негативните думи и др.
TwitterCommunicator - служи за връзка с Twitter API и извличане на туитове по ключови думи (еквивалентно на търсене на туитове в Twitter търсачката).
TwitterSentiment - основният клас, съдържащ main функцията. В него се демонстрира работата на всички гореизброени класове.

Използвани външни библиотеки:
twitter4j - библиотека, улесняваща комуникацията с Twitter API
com.cybozu.labs.langdetect - библиотека, която класифицира езика, на който е написан даден текст с 99% точност.
org.apache.commons.csv - служи за четене и запис на CSV файлове, понеже корпусът е представен в такъв формат
CoreNLP - библиотека, разработена от Станфордския университет, съдържаща много полезни инструменти за работа с естествен език. В този проект се използва главно sentiment analysis частта ѝ. Тъй като тук се следи връзката между думите в изречението и подредбата им, имплементацията му в проекта позволява да бъдат оценявани мнения по всякакви тематики, а не само отзиви за игри.

След проучване открих следния dataset, който сметнах за подходящ:
https://www.kaggle.com/dahlia25/metacritic-video-game-comments#metacritic_game_user_comments.csv

Различаваше се от другите с това, че има голям интервал от оценки (0-10), вместо само “Recommended” и “Not Recommended” (ревюта в Steam), повечето бяха на английски език и също така имаше голям брой отзиви (284,000). Въпреки това, той имаше и доста недостатъци, което наложи да бъдат направени следните промени преди да може да се работи с него:
Съдържа други езици, освен английски. Използвах библиотеката LangDetect (com.cybozu.labs.langdetect) за разпознаване на езици, която ми помогна да отстраня ревюта на други езици.
Съдържа ненужна информация като например името на играта и името на потребителя, публикувал отзива. Самите отзиви съдържат темплейтни низове като името на играта и "This review contains spoilers, click expand to view." Всичката тази ненужна информация, както и пунктуационни и други ненужни знаци са премахнати програмно в проекта.
Около 90% от отзивите са с оценка “10/10”, в резултат на което при обучаването на такъв модел алгоритъмът е по-склонен да дава по-положителни оценки дори на негативни отзиви. За да се предотврати това, бяха изключени някои положителни ревюта така че да бъде постигнато горе-долу нормално разпределение.

В main метода на програмата се демонстрира оценката от мненията в туитър за 2 игри (“#Warcraft3Reforged” и “#DarksidersGenesis”). Първата има много лоши отзиви, а втората - много добри. Показват се оценките от класификацията на CoreNLP библиотеката, както и тези от моя класификатор. Оценките на CoreNLP са 0-4, а на моя класификатор - 0-10. След като това се изпълни, се появява поле, в което може да се въвежда свободно всякакъв текст и той бива оценен и от 2-та sentiment анализатора. Като пример, че дори библиотеката на станфордския университет, разработвана с години, далеч не е перфектна, може да бъде въведено изречението “This game sucks.” (очевидно изключително негативен отзив), при което CoreNLP изкарва оценка 3/4 (positive), а моят класификатор изкарва 4/10, което е по-скоро негативно.

Други използвани ресурси:
Стоп думи (към този списък съм добавил още доста, които съм сметнал за подходящи за тематиката на видеоигри) - https://www.ranks.nl/stopwords
https://stanfordnlp.github.io/CoreNLP/
https://blog.openshift.com/day-20-stanford-corenlp-performing-sentiment-analysis-of-twitter-using-java/
